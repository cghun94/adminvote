<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>로그인페이지</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    
</head>

    <body>
        <div id="wrap">

            <span class="title">로그인 페이지!</span>
            <br>
                
                    <label for="id">아이디</label>
                    <input id="id" type="id" required />
                    <label for="password">비밀번호</label>
                    <input id="password" type="password" required />
                    <button class="login100" onclick="login_click();">로그인</button>
                    <!-- <button id="login200" onclick="login_click2()">로그인2</button> -->
          
               
                <script>
                    function login_click(){
                        const id = $("#id").val();
                        const password =  $("#password").val();        
                        axios({        
                                method: 'post',
                                url: '/login',        
                                data: {        
                                    id: id,        
                                    password: password        
                                }        
                        }).then( (res)=> {       
                            console.log('res.data = ', res);                                
                            if(res.data.accessToken){
                                // localStorage.setItem("accessToken",res.data.accessToken)
                                // let accessToken = localStorage.getItem("accessToken");                                                
                                location.href='http://192.168.33.111:3000/main' ;                    
                            }else{
                                // console.log('res.data.token = x ');
                                
                            }
                        }).catch( (error)=> {
                            console.log(error);        
                        });        
                    }
                </script>
        </div>      
        
        
    </body>
</html>